import{d as h,r as o,g as y,c as s,a as i,h as m,w as _,v as I,F as d,b as c,i as k,t as S,f as w,o as l}from"./index-BsyVLsBn.js";import{a as v}from"./http-api-DGFSZnvK.js";import{_ as g}from"./Image.vue_vue_type_script_setup_true_lang-CEDA_rSq.js";const B=["value"],L={key:0},V={key:1},D=h({__name:"Similar",setup(C){const r=o(null),u=o([]),n=o([]),f=async()=>{try{u.value=await v.getImageList()}catch(t){console.error("Error fetching image list:",t)}},p=async t=>{try{n.value=await v.getSimilarImages(t)}catch(e){console.error("Error fetching similar images:",e),n.value=[]}};return y(r,async t=>{t!==null?await p(t):n.value=[]}),f(),(t,e)=>(l(),s("div",null,[e[3]||(e[3]=i("h3",null,"Choose an image",-1)),i("div",null,[_(i("select",{"onUpdate:modelValue":e[0]||(e[0]=a=>r.value=a)},[(l(!0),s(d,null,c(u.value,a=>(l(),s("option",{value:a.id,key:a.id},S(a.name),9,B))),128))],512),[[I,r.value]])]),r.value!==null?(l(),s("div",L,[e[1]||(e[1]=i("h4",null,"Selected Image",-1)),k(g,{id:r.value},null,8,["id"])])):m("",!0),n.value.length>0?(l(),s("div",V,[e[2]||(e[2]=i("h4",null,"Similar Images",-1)),i("div",null,[(l(!0),s(d,null,c(n.value,a=>(l(),w(g,{key:a.id,id:a.id},null,8,["id"]))),128))])])):m("",!0)]))}});export{D as default};
