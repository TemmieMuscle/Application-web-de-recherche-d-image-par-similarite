import{d as y,r as o,g as h,c as i,a as r,h as d,w as I,v as k,F as v,b as c,i as S,t as _,f as w,o as l}from"./index-C3GzFoHx.js";import{a as g}from"./http-api-DGFSZnvK.js";import{_ as f}from"./Image.vue_vue_type_script_setup_true_lang-DRdl-D6S.js";const B=["value"],C={key:0},L={key:1},D=y({__name:"Similar",setup(V){const s=o(-1),u=o([]),n=o([]),p=async()=>{try{u.value=await g.getImageList()}catch(t){console.error("Error fetching image list:",t)}},m=async t=>{try{n.value=await g.getSimilarImages(t)}catch(e){console.error("Error fetching similar images:",e),n.value=[]}};return h(s,async t=>{t!==null?await m(t):n.value=[]}),p(),(t,e)=>(l(),i("div",null,[e[4]||(e[4]=r("h3",null,"Choose an image",-1)),r("div",null,[I(r("select",{"onUpdate:modelValue":e[0]||(e[0]=a=>s.value=a),onChange:e[1]||(e[1]=a=>m(s.value))},[(l(!0),i(v,null,c(u.value,a=>(l(),i("option",{value:a.id,key:a.id},_(a.name),9,B))),128))],544),[[k,s.value]])]),s.value!==-1?(l(),i("div",C,[e[2]||(e[2]=r("h4",null,"Selected Image",-1)),S(f,{id:s.value},null,8,["id"])])):d("",!0),n.value.length>0?(l(),i("div",L,[e[3]||(e[3]=r("h4",null,"Similar Images",-1)),r("div",null,[(l(!0),i(v,null,c(n.value,a=>(l(),w(f,{key:a.id,id:a.id},null,8,["id"]))),128))])])):d("",!0)]))}});export{D as default};
