import{d as p,r as o,g as f,c as l,a as s,h as m,w as y,v as _,F as c,b as d,t as I,o as n}from"./index-DQm0Ok3x.js";import{a as v}from"./http-api-XlQ5B82Y.js";const S=["value"],k={key:0},w=["src"],L={key:1},B=["src","alt"],x=p({__name:"Similar",setup(C){const r=o(null),u=o([]),i=o([]),g=async()=>{try{u.value=await v.getImageList()}catch(a){console.error("Error fetching image list:",a)}},h=async a=>{try{i.value=await v.getSimilarImages(a)}catch(e){console.error("Error fetching similar images:",e),i.value=[]}};return f(r,async a=>{a!==null?await h(a):i.value=[]}),g(),(a,e)=>(n(),l("div",null,[e[3]||(e[3]=s("h3",null,"Choose an image",-1)),s("div",null,[y(s("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>r.value=t)},[(n(!0),l(c,null,d(u.value,t=>(n(),l("option",{value:t.id,key:t.id},I(t.name),9,S))),128))],512),[[_,r.value]])]),r.value!==null?(n(),l("div",k,[e[1]||(e[1]=s("h4",null,"Selected Image",-1)),s("img",{src:`http://localhost:8080/images/${r.value}`},null,8,w)])):m("",!0),i.value.length>0?(n(),l("div",L,[e[2]||(e[2]=s("h4",null,"Similar Images",-1)),s("div",null,[(n(!0),l(c,null,d(i.value,t=>(n(),l("img",{key:t.id,src:`http://localhost:8080/images/${t.id}`,alt:t.name},null,8,B))),128))])])):m("",!0)]))}});export{x as default};
