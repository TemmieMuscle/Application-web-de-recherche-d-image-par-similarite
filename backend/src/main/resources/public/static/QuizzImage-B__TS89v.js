import{a as d}from"./http-api-DGFSZnvK.js";import{_ as c}from"./Image.vue_vue_type_script_setup_true_lang-DRdl-D6S.js";import{d as p,r as m,g as h,j as I,c as s,a as t,h as _,i as g,t as u,F as y,b as k,o as i}from"./index-C3GzFoHx.js";const L={key:0},w={key:1},S={key:2},x={class:"similar-images-container"},V=p({__name:"QuizzImage",setup(B){const o=m([]),n=m(null),l=m([]),v=async()=>{try{if(o.value=await d.getImageList(),o.value.length>0){const e=Math.floor(Math.random()*o.value.length);n.value=o.value[e].id}}catch(e){console.error("Error fetching image list:",e)}},f=async e=>{try{l.value=await d.getSimilarImages(e),l.value=l.value.slice(0,3)}catch(a){console.error("Error fetching similar images:",a),l.value=[]}};return h(n,async e=>{e!==null?await f(e):l.value=[]}),I(v),(e,a)=>(i(),s("div",null,[a[2]||(a[2]=t("h3",null,"Random Image",-1)),n.value!==null?(i(),s("div",L,[t("p",null,"Image ID: "+u(n.value),1),g(c,{id:n.value},null,8,["id"])])):(i(),s("div",w,a[0]||(a[0]=[t("p",null,"Loading image...",-1)]))),l.value.length>0?(i(),s("div",S,[a[1]||(a[1]=t("h4",null,"Similar Images",-1)),t("div",x,[(i(!0),s(y,null,k(l.value,r=>(i(),s("div",{key:r.id,class:"similar-image"},[g(c,{id:r.id},null,8,["id"]),t("p",null,u(r.id),1),t("p",null,u(r.name),1)]))),128))])])):_("",!0)]))}});export{V as default};
