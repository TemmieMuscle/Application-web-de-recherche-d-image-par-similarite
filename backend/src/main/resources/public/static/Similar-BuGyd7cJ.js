import{d as f,r as o,g as h,c as l,a as i,h as m,w as _,v as y,F as c,b as d,i as I,t as S,o as s}from"./index-C8XVnJk7.js";import{a as v}from"./http-api-DGFSZnvK.js";import{_ as k}from"./Image.vue_vue_type_script_setup_true_lang-DzJjMbqY.js";const w=["value"],L={key:0},V={key:1},B=["src","alt"],D=f({__name:"Similar",setup(C){const r=o(null),u=o([]),n=o([]),g=async()=>{try{u.value=await v.getImageList()}catch(a){console.error("Error fetching image list:",a)}},p=async a=>{try{n.value=await v.getSimilarImages(a)}catch(e){console.error("Error fetching similar images:",e),n.value=[]}};return h(r,async a=>{a!==null?await p(a):n.value=[]}),g(),(a,e)=>(s(),l("div",null,[e[3]||(e[3]=i("h3",null,"Choose an image",-1)),i("div",null,[_(i("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>r.value=t)},[(s(!0),l(c,null,d(u.value,t=>(s(),l("option",{value:t.id,key:t.id},S(t.name),9,w))),128))],512),[[y,r.value]])]),r.value!==null?(s(),l("div",L,[e[1]||(e[1]=i("h4",null,"Selected Image",-1)),I(k,{id:r.value},null,8,["id"])])):m("",!0),n.value.length>0?(s(),l("div",V,[e[2]||(e[2]=i("h4",null,"Similar Images",-1)),i("div",null,[(s(!0),l(c,null,d(n.value,t=>(s(),l("img",{key:t.id,src:`http://localhost:8080/images/${t.id}`,alt:t.name},null,8,B))),128))])])):m("",!0)]))}});export{D as default};
