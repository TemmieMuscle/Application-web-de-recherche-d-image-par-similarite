import{d as y,r as o,g as h,c as i,a as n,h as m,w as I,v as k,F as d,b as v,i as S,t as _,f as w,o as s}from"./index-CCDdpP3S.js";import{a as c}from"./http-api-DGFSZnvK.js";import{_ as g}from"./Image.vue_vue_type_script_setup_true_lang-DJJWBfRc.js";const B=["value"],C={key:0},L={key:1},D=y({__name:"Similar",setup(V){const t=o(null),u=o([]),r=o([]),f=async()=>{try{u.value=await c.getImageList()}catch(l){console.error("Error fetching image list:",l)}},p=async l=>{try{r.value=await c.getSimilarImages(l)}catch(e){console.error("Error fetching similar images:",e),r.value=[]}};return h(t,async l=>{l!==null?await p(l):r.value=[]}),f(),(l,e)=>(s(),i("div",null,[e[4]||(e[4]=n("h3",null,"Choose an image",-1)),n("div",null,[I(n("select",{"onUpdate:modelValue":e[0]||(e[0]=a=>t.value=a),onChange:e[1]||(e[1]=(...a)=>t.value&&t.value(...a))},[(s(!0),i(d,null,v(u.value,a=>(s(),i("option",{value:a.id,key:a.id},_(a.name),9,B))),128))],544),[[k,t.value]])]),t.value!==null?(s(),i("div",C,[e[2]||(e[2]=n("h4",null,"Selected Image",-1)),S(g,{id:t.value},null,8,["id"])])):m("",!0),r.value.length>0?(s(),i("div",L,[e[3]||(e[3]=n("h4",null,"Similar Images",-1)),n("div",null,[(s(!0),i(d,null,v(r.value,a=>(s(),w(g,{key:a.id,id:a.id},null,8,["id"]))),128))])])):m("",!0)]))}});export{D as default};
